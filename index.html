<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CSV Viewer (simplu & robust)</title>
  <style>
    :root { --bg:#f5f7fb; --card:#ffffff; --text:#0b1220; --muted:#64748b; --accent:#2563eb; }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
    .app{display:grid;grid-template-columns:280px 1fr;min-height:100vh}
    aside{background:#fff;border-right:1px solid rgba(0,0,0,.08);padding:16px;position:sticky;top:0;height:100vh}
    .top{display:flex;gap:8px;align-items:center;margin-bottom:8px}
    .h{font-weight:700}
    .nav{display:flex;flex-direction:column;gap:8px;margin:10px 0}
    .nav button{appearance:none;border:1px solid rgba(0,0,0,.12);background:#fff;border-radius:12px;padding:10px;cursor:pointer;text-align:left}
    .nav button.active{border-color:var(--accent);box-shadow:0 0 0 2px rgba(37,99,235,.15) inset}
    .box{display:flex;flex-direction:column;gap:8px;margin-top:10px}
    .btn, .icon{appearance:none;border:1px solid rgba(0,0,0,.12);background:#fff;border-radius:10px;padding:10px;cursor:pointer}
    .btn:hover, .nav button:hover{border-color:var(--accent)}
    input[type="url"], textarea{border:1px solid rgba(0,0,0,.12);border-radius:10px;padding:10px;width:100%}
    textarea{min-height:80px;resize:vertical}
    .status{font-size:12px;color:var(--muted)}
    header{position:sticky;top:0;z-index:5;background:#fff;border-bottom:1px solid rgba(0,0,0,.08);padding:10px;display:flex;justify-content:center}
    .search input{padding:10px 14px;border:1px solid rgba(0,0,0,.12);border-radius:999px;width:min(42vw,520px)}
    main{padding:12px}
    .card{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.08);overflow:hidden}
    .sub{padding:14px 16px;border-bottom:1px solid rgba(0,0,0,.08)}
    .out{padding:16px;overflow:auto}
    table{width:100%;border-collapse:collapse}
    th,td{border:1px solid rgba(0,0,0,.12);padding:8px;vertical-align:top}
    th{background:#f3f4f6}
    .hit{outline:2px solid var(--accent);background:rgba(37,99,235,.12)}
    @media(max-width:900px){ .app{grid-template-columns:1fr} aside{position:static;height:auto} .search input{width:92vw} }
    /* dark */
    body.dark{ background:#0b1220; color:#e7ecf3 }
    body.dark aside, body.dark header, body.dark .card{ background:#121a2b; border-color:rgba(255,255,255,.12) }
    body.dark .btn, body.dark .nav button, body.dark input, body.dark textarea, body.dark .search input{ background:#0f1726; border-color:rgba(255,255,255,.12); color:#e7ecf3 }
    body.dark th{ background:rgba(255,255,255,.06) }
    body.dark .status{ color:#a9b3c4 }
  </style>
</head>
<body>
  <div class="app">
    <aside>
      <div class="top">
        <button id="themeBtn" class="icon">Dark</button>
        <div class="h">Meniu</div>
      </div>
      <div class="nav">
        <button class="tabbtn active" data-view="s1">Chime S1–S52</button>
        <button class="tabbtn" data-view="s2">Curse spre XAR1</button>
        <button class="tabbtn" data-view="s3">Curse intermodale</button>
      </div>

      <div class="box">
        <label class="btn" for="file">Încarcă CSV</label>
        <input id="file" type="file" accept=".csv" hidden />
        <input id="url" type="url" placeholder="sau URL CSV (ex: /data/s1.csv)"/>
        <button id="loadUrl" class="btn">Încarcă din URL</button>
        <textarea id="paste" placeholder="sau lipește CSV aici și apasă „Încarcă din text”"></textarea>
        <button id="loadText" class="btn">Încarcă din text</button>
        <button id="saveHtml" class="btn" disabled>Salvează HTML</button>
      </div>

      <div id="status" class="status"></div>
    </aside>

    <div>
      <header><div class="search"><input id="q" type="search" placeholder="Caută în tabelul curent…"></div></header>
      <main>
        <section id="s1" class="card"><div class="sub"><h3 style="margin:0">Chime S1–S52</h3></div><div class="out" id="out-s1"></div></section>
        <section id="s2" class="card" style="margin-top:16px"><div class="sub"><h3 style="margin:0">Curse spre XAR1</h3></div><div class="out" id="out-s2"></div></section>
        <section id="s3" class="card" style="margin-top:16px"><div class="sub"><h3 style="margin:0">Curse intermodale</h3></div><div class="out" id="out-s3"></div></section>
      </main>
    </div>
  </div>

  <script defer src="./app.js"></script>
</body>
</html>
