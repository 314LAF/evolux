<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Evolux – Vizualizator</title>

  <style>
    :root { --bg:#f6f7fb; --card:#fff; --muted:#64748b; --border:#e5e7eb; --hit:#fff3cd; }
    body { margin:0; font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--bg); color:#111; }
    .layout { display:grid; grid-template-columns: 220px 1fr; min-height:100vh; }
    aside { background:#fff; border-right:1px solid var(--border); padding:12px; }
    aside h3 { margin:8px 0; font-size:13px; color:var(--muted); }
    .menu button { width:100%; text-align:left; margin:6px 0; padding:10px 12px; border:1px solid var(--border); background:#fff; border-radius:8px; cursor:pointer; }
    .menu button.active { outline:2px solid #111; }
    main { padding:16px 18px 48px; }
    .toolbar { display:flex; gap:8px; align-items:center; margin-bottom:12px; }
    .toolbar input[type="text"] { flex:1; padding:10px 12px; border:1px solid var(--border); border-radius:999px; }
    .toolbar .ctr { display:flex; gap:6px; align-items:center; }
    .toolbar .ctr button { padding:6px 10px; border:1px solid var(--border); background:#fff; border-radius:8px; cursor:pointer; }
    .card { background:var(--card); border:1px solid var(--border); border-radius:12px; padding:10px 10px 14px; }
    h2 { font-size:16px; font-weight:600; margin:6px 10px 12px; }
    table { width:100%; border-collapse:collapse; }
    thead th { position:sticky; top:0; background:#fafafa; border-bottom:1px solid var(--border); padding:8px; text-align:left; }
    tbody td { border-top:1px solid var(--border); padding:8px; vertical-align:top; }
    td.hit { background:var(--hit); }
    .muted { color:var(--muted); }
    .p16 { padding:16px; }
    .hidden { display:none; }
  </style>
</head>
<body>
  <div class="layout">
    <aside>
      <h3>Meniu</h3>
      <div class="menu">
        <button class="nav" data-section="s1">Chime S1–S52</button>
        <button class="nav" data-section="s2">Curse spre XAR1</button>
        <button class="nav" data-section="s3">Curse intermodale</button>
      </div>
      <hr>
      <button id="clearLocal" title="Șterge cache-ul local (dacă există)">Șterge datele locale</button>
      <p class="muted" style="font-size:12px;margin-top:8px">Datele se încarcă din <code>/data/*.csv</code>.</p>
      <div id="status" class="muted" style="margin-top:8px;font-size:12px"></div>
    </aside>

    <main>
      <div class="toolbar">
        <input id="searchInput" type="text" placeholder="Caută în tabelul curent… (Enter = următor, Shift+Enter = anterior)" />
        <div class="ctr">
          <span id="searchCount" class="muted">0/0</span>
          <button id="searchPrev" title="Anterior">↑</button>
          <button id="searchNext" title="Următor">↓</button>
        </div>
      </div>

      <section id="s1" class="view">
        <div class="card">
          <h2>Chime S1–S52</h2>
          <div class="out"></div>
        </div>
      </section>

      <section id="s2" class="view hidden">
        <div class="card">
          <h2>Curse spre XAR1</h2>
          <div class="out"></div>
        </div>
      </section>

      <section id="s3" class="view hidden">
        <div class="card">
          <h2>Curse intermodale</h2>
          <div class="out muted p16">În pregătire.</div>
        </div>
      </section>
    </main>
  </div>

  <!-- Spargem cache-ul de fiecare dată când schimbi numărul -->
  <script defer src="./app.js?v=48"></script>
</body>
</html>
