<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chime / Curse – viewer</title>
  <style>
    :root{--bg:#f6f7fb;--card:#fff;--text:#0b1220;--muted:#64748b;--border:#e5e7eb;--accent:#2563eb}
    *{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
    .app{display:grid;grid-template-columns:260px 1fr;min-height:100vh}
    aside{border-right:1px solid var(--border);padding:10px;background:#fff}
    main{padding:16px}
    .btn{display:block;width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:#fff;margin:6px 0;cursor:pointer;text-align:left}
    .btn.active{border-color:var(--accent);box-shadow:0 0 0 2px rgba(37,99,235,.15) inset}
    .topbar{display:flex;gap:8px;align-items:center;justify-content:center;margin:6px 0 14px}
    #search{flex:1;max-width:620px;padding:9px 12px;border:1px solid var(--border);border-radius:999px;outline:none}
    .sr-ctrl{display:flex;gap:6px;align-items:center;font-size:13px;color:var(--muted)}
    .sr-ctrl button{border:1px solid var(--border);background:#fff;border-radius:8px;padding:4px 8px;cursor:pointer}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.06);padding:10px}
    .title{font-weight:700;margin:4px 6px 10px}
    table{width:100%;border-collapse:collapse}
    th,td{border:1px solid var(--border);padding:8px;vertical-align:top}
    th{background:#f3f4f6;position:sticky;top:0;z-index:1}
    .section{display:none}.section.active{display:block}
    .sep-row td{background:#f8fafc;color:#64748b;font-weight:600;text-align:center}
    .hit{outline:2px solid #f59e0b;background:#fff7ed}
    .note{font-size:13px;color:var(--muted);margin:8px 0}
    /* Dark */
    body.dark{--bg:#0b1220;--card:#0f1526;--text:#e6edf6;--muted:#9aa4b2;--border:#1f2937}
    body.dark th{background:#151b2c}
    .pill{border:1px solid var(--border);background:#fff;border-radius:999px;padding:6px 10px;cursor:pointer}
    body.dark .pill{background:#0f1526}
  </style>
</head>
<body>
  <div class="app">
    <aside>
      <button class="pill" id="themeBtn">Dark</button>
      <div style="height:8px"></div>
      <button class="btn nav" data-sec="s1">Chime S1–S52</button>
      <button class="btn nav" data-sec="s2">Curse spre XAR1</button>
      <button class="btn nav" data-sec="s3">Curse intermodale</button>
      <div style="height:8px"></div>
      <button class="btn" id="clearLocal">Șterge datele locale</button>
      <div class="note">Datele se încarcă din <code>/data/*.csv</code>. Butonul de mai sus șterge doar cache-ul local.</div>
    </aside>

    <main>
      <div class="topbar">
        <input id="search" placeholder="Caută în tabelul curent… (Enter = următor, Shift+Enter = anterior)" />
        <div class="sr-ctrl">
          <span id="srCount">0/0</span>
          <button id="prevBtn" title="Anterior">↑</button>
          <button id="nextBtn" title="Următor">↓</button>
        </div>
      </div>

      <div id="s1" class="section active">
        <div class="card">
          <div class="title">Chime S1–S52</div>
          <div id="out-s1"></div>
        </div>
      </div>

      <div id="s2" class="section">
        <div class="card">
          <div class="title">Curse spre XAR1</div>
          <div id="out-s2"></div>
        </div>
      </div>

      <div id="s3" class="section">
        <div class="card">
          <div class="title">Curse intermodale</div>
          <div id="out-s3"></div>
        </div>
      </div>
    </main>
  </div>

  <!-- IMPORTANT: crește numărul când faci update, ca să eviți cache-ul -->
  <script defer src="./app.js?v=40"></script>
</body>
</html>
